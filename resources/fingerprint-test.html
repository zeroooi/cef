<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµè§ˆå™¨æŒ‡çº¹æ£€æµ‹æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        .fingerprint-item {
            background: #f9f9f9;
            padding: 10px;
            margin: 5px 0;
            border-left: 4px solid #4CAF50;
            border-radius: 4px;
        }
        .fingerprint-label {
            font-weight: bold;
            color: #555;
        }
        .fingerprint-value {
            font-family: monospace;
            background: #e8e8e8;
            padding: 2px 6px;
            border-radius: 3px;
            margin-left: 10px;
        }
        .test-canvas {
            border: 1px solid #ccc;
            margin: 10px 0;
        }
        .status-ok {
            color: #4CAF50;
        }
        .status-warning {
            color: #ff9800;
        }
        .status-error {
            color: #f44336;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æµè§ˆå™¨æŒ‡çº¹æ£€æµ‹æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢ç”¨äºéªŒè¯æµè§ˆå™¨æŒ‡çº¹æ¨¡æ‹Ÿæ˜¯å¦æˆåŠŸã€‚è¯·æ£€æŸ¥ä»¥ä¸‹ä¿¡æ¯æ˜¯å¦ç¬¦åˆé…ç½®é¢„æœŸã€‚</p>
    </div>

    <div class="container section">
        <h2>ğŸ“± åŸºç¡€ç¯å¢ƒä¿¡æ¯</h2>
        <div id="basic-info"></div>
    </div>

    <div class="container section">
        <h2>ğŸ–¥ï¸ å±å¹•ä¸æ˜¾ç¤ºä¿¡æ¯</h2>
        <div id="screen-info"></div>
    </div>

    <div class="container section">
        <h2>ğŸ¨ Canvas æŒ‡çº¹æµ‹è¯•</h2>
        <div id="canvas-info">
            <canvas id="canvas-test" class="test-canvas" width="200" height="50"></canvas>
            <div id="canvas-hash"></div>
        </div>
    </div>

    <div class="container section">
        <h2>ğŸ® WebGL æŒ‡çº¹æµ‹è¯•</h2>
        <div id="webgl-info"></div>
    </div>

    <div class="container section">
        <h2>ğŸ”Š éŸ³é¢‘æŒ‡çº¹æµ‹è¯•</h2>
        <div id="audio-info"></div>
    </div>

    <div class="container section">
        <h2>ğŸŒ ç½‘ç»œä¸è¿æ¥ä¿¡æ¯</h2>
        <div id="network-info"></div>
    </div>

    <script>
        // ğŸš¨ ç«‹å³æ‰§è¡Œæµ‹è¯•è„šæœ¬ - ä¸ç­‰å¾…DOMåŠ è½½
        console.log('ğŸš¨ ç«‹å³æ‰§è¡ŒæŒ‡çº¹æ£€æŸ¥è„šæœ¬...');
        
        // ç«‹å³æ£€æŸ¥æŒ‡çº¹çŠ¶æ€
        function immediateCheck() {
            console.log('=== ç«‹å³æŒ‡çº¹æ£€æŸ¥ ===');
            console.log('User-Agent:', navigator.userAgent);
            console.log('Platform:', navigator.platform);
            console.log('CPU Cores:', navigator.hardwareConcurrency);
            console.log('Language:', navigator.language);
            console.log('Languages:', navigator.languages);
            console.log('Screen:', screen.width + 'x' + screen.height);
            
            // æ£€æŸ¥æŒ‡çº¹è¦†ç›–çŠ¶æ€
            if (window.fingerprintOverridden) {
                console.log('âœ… æŒ‡çº¹è¦†ç›–çŠ¶æ€: æˆåŠŸ');
            } else {
                console.log('âŒ æŒ‡çº¹è¦†ç›–çŠ¶æ€: å¤±è´¥æˆ–æœªæ‰§è¡Œ');
            }
            
            // ç«‹å³æ›´æ–°é¡µé¢å†…å®¹
            setTimeout(() => {
                updatePageContent();
            }, 100);
        }
        
        // æ›´æ–°é¡µé¢å†…å®¹
        function updatePageContent() {
            try {
                // åŸºç¡€ç¯å¢ƒä¿¡æ¯
                const basicInfo = document.getElementById('basic-info');
                if (basicInfo) {
                    basicInfo.innerHTML = `
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">User Agent:</span>
                            <span class="fingerprint-value">${navigator.userAgent}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">å¹³å°:</span>
                            <span class="fingerprint-value">${navigator.platform}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">è¯­è¨€:</span>
                            <span class="fingerprint-value">${navigator.language}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">CPUæ ¸å¿ƒæ•°:</span>
                            <span class="fingerprint-value">${navigator.hardwareConcurrency}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">æŒ‡çº¹è¦†ç›–çŠ¶æ€:</span>
                            <span class="fingerprint-value">${window.fingerprintOverridden ? 'âœ… æˆåŠŸ' : 'âŒ å¤±è´¥'}</span>
                        </div>
                    `;
                }
                
                // å±å¹•ä¿¡æ¯
                const screenInfo = document.getElementById('screen-info');
                if (screenInfo) {
                    screenInfo.innerHTML = `
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">å±å¹•åˆ†è¾¨ç‡:</span>
                            <span class="fingerprint-value">${screen.width}x${screen.height}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">å¯ç”¨åˆ†è¾¨ç‡:</span>
                            <span class="fingerprint-value">${screen.availWidth}x${screen.availHeight}</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">åƒç´ æ¯”:</span>
                            <span class="fingerprint-value">${window.devicePixelRatio}</span>
                        </div>
                    `;
                }
                
                // ç«‹å³æ‰§è¡Œå…¶ä»–æµ‹è¯•
                testCanvasFingerprint();
                testWebGLFingerprint();
                testAudioFingerprint();
                testNetworkInfo();
                
                console.log('âœ… é¡µé¢å†…å®¹æ›´æ–°å®Œæˆ');
            } catch(e) {
                console.error('âŒ é¡µé¢å†…å®¹æ›´æ–°å¤±è´¥:', e);
            }
        }
        
        // Canvas æŒ‡çº¹æµ‹è¯•
        function testCanvasFingerprint() {
            try {
                const canvas = document.getElementById('canvas-test');
                const ctx = canvas.getContext('2d');
                
                // ç»˜åˆ¶æµ‹è¯•å›¾æ¡ˆ
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillStyle = '#f60';
                ctx.fillRect(125, 1, 62, 20);
                ctx.fillStyle = '#069';
                ctx.fillText('ğŸ”CanvasæŒ‡çº¹æµ‹è¯•', 2, 15);
                ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
                ctx.fillText('ğŸ¨CanvasæŒ‡çº¹æµ‹è¯•', 4, 17);

                // è·å–Canvasæ•°æ®URL
                const dataURL = canvas.toDataURL();
                const hash = btoa(dataURL.slice(-50)); // ç®€å•å“ˆå¸Œ

                const container = document.getElementById('canvas-hash');
                if (container) {
                    container.innerHTML = `
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">Canvaså“ˆå¸Œ:</span>
                            <span class="fingerprint-value">${hash.slice(0, 20)}...</span>
                        </div>
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">Canvasé•¿åº¦:</span>
                            <span class="fingerprint-value">${dataURL.length}</span>
                        </div>
                    `;
                }
                console.log('âœ… CanvasæŒ‡çº¹æµ‹è¯•å®Œæˆ');
            } catch(e) {
                console.error('âŒ Canvasæµ‹è¯•å¤±è´¥:', e);
                const container = document.getElementById('canvas-hash');
                if (container) {
                    container.innerHTML = `<div class="fingerprint-item"><span class="fingerprint-label">Canvasé”™è¯¯:</span><span class="fingerprint-value">${e.message}</span></div>`;
                }
            }
        }

        // WebGL æŒ‡çº¹æµ‹è¯•
        function testWebGLFingerprint() {
            const container = document.getElementById('webgl-info');
            if (!container) return;
            
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                
                if (gl) {
                    const info = [
                        ['WebGLç‰ˆæœ¬', gl.getParameter(gl.VERSION)],
                        ['ä¾›åº”å•†', gl.getParameter(gl.VENDOR)],
                        ['æ¸²æŸ“å™¨', gl.getParameter(gl.RENDERER)],
                        ['ç€è‰²å™¨ç‰ˆæœ¬', gl.getParameter(gl.SHADING_LANGUAGE_VERSION)]
                    ];

                    // WebGLæ‰©å±•
                    const extensions = gl.getSupportedExtensions();
                    info.push(['æ”¯æŒçš„æ‰©å±•æ•°é‡', extensions.length.toString()]);

                    let html = '';
                    info.forEach(([label, value]) => {
                        html += `
                            <div class="fingerprint-item">
                                <span class="fingerprint-label">${label}:</span>
                                <span class="fingerprint-value">${value}</span>
                            </div>
                        `;
                    });
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<div class="fingerprint-item"><span class="fingerprint-label">WebGLçŠ¶æ€:</span><span class="fingerprint-value">ä¸æ”¯æŒ</span></div>';
                }
                console.log('âœ… WebGLæŒ‡çº¹æµ‹è¯•å®Œæˆ');
            } catch (e) {
                console.error('âŒ WebGLæµ‹è¯•å¤±è´¥:', e);
                container.innerHTML = `<div class="fingerprint-item"><span class="fingerprint-label">WebGLé”™è¯¯:</span><span class="fingerprint-value">${e.message}</span></div>`;
            }
        }

        // éŸ³é¢‘æŒ‡çº¹æµ‹è¯•
        function testAudioFingerprint() {
            const container = document.getElementById('audio-info');
            if (!container) return;
            
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const analyser = audioContext.createAnalyser();
                const gainNode = audioContext.createGain();
                
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(10000, audioContext.currentTime);
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                
                oscillator.connect(analyser);
                analyser.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start(0);
                oscillator.stop(audioContext.currentTime + 0.1);

                const info = [
                    ['éŸ³é¢‘ä¸Šä¸‹æ–‡çŠ¶æ€', audioContext.state],
                    ['é‡‡æ ·ç‡', audioContext.sampleRate.toString()],
                    ['å£°é“æ•°', audioContext.destination.channelCount.toString()]
                ];

                let html = '';
                info.forEach(([label, value]) => {
                    html += `
                        <div class="fingerprint-item">
                            <span class="fingerprint-label">${label}:</span>
                            <span class="fingerprint-value">${value}</span>
                        </div>
                    `;
                });
                container.innerHTML = html;
                console.log('âœ… éŸ³é¢‘æŒ‡çº¹æµ‹è¯•å®Œæˆ');
            } catch (e) {
                console.error('âŒ éŸ³é¢‘æµ‹è¯•å¤±è´¥:', e);
                container.innerHTML = `<div class="fingerprint-item"><span class="fingerprint-label">éŸ³é¢‘æµ‹è¯•é”™è¯¯:</span><span class="fingerprint-value">${e.message}</span></div>`;
            }
        }

        // ç½‘ç»œä¿¡æ¯æµ‹è¯•
        function testNetworkInfo() {
            const container = document.getElementById('network-info');
            if (!container) return;
            
            // æ£€æµ‹WebRTCæœ¬åœ°IPæ³„éœ²
            const rtcTest = () => {
                try {
                    const pc = new RTCPeerConnection({iceServers: []});
                    pc.createDataChannel('');
                    pc.createOffer().then(offer => pc.setLocalDescription(offer));
                    
                    let localIPs = [];
                    let hasResult = false;
                    
                    pc.onicecandidate = (event) => {
                        if (event.candidate) {
                            const candidate = event.candidate.candidate;
                            const ipMatch = candidate.match(/(\d+\.\d+\.\d+\.\d+)/);
                            if (ipMatch && !localIPs.includes(ipMatch[1])) {
                                localIPs.push(ipMatch[1]);
                                if (!hasResult) {
                                    hasResult = true;
                                    container.innerHTML = `<div class="fingerprint-item"><span class="fingerprint-label">æ£€æµ‹åˆ°æœ¬åœ°IP:</span><span class="fingerprint-value">${ipMatch[1]}</span></div>`;
                                }
                            }
                        }
                    };

                    setTimeout(() => {
                        if (!hasResult) {
                            container.innerHTML = '<div class="fingerprint-item"><span class="fingerprint-label">æœ¬åœ°IPæ³„éœ²:</span><span class="fingerprint-value">å·²é˜²æŠ¤ âœ…</span></div>';
                        }
                        pc.close();
                    }, 2000);
                } catch (e) {
                    container.innerHTML = '<div class="fingerprint-item"><span class="fingerprint-label">WebRTCæµ‹è¯•:</span><span class="fingerprint-value">ä¸æ”¯æŒæˆ–å·²ç¦ç”¨ âœ…</span></div>';
                }
            };

            rtcTest();
            console.log('âœ… ç½‘ç»œä¿¡æ¯æµ‹è¯•å®Œæˆ');
        }
        
        // ç«‹å³æ‰§è¡Œ
        immediateCheck();
        
        // å·¥å…·å‡½æ•°ï¼šåˆ›å»ºæŒ‡çº¹é¡¹æ˜¾ç¤º
        function createFingerprintItem(label, value, expected = null) {
            const div = document.createElement('div');
            div.className = 'fingerprint-item';
            
            let statusClass = 'status-ok';
            let statusIcon = 'âœ…';
            
            if (expected && value !== expected) {
                statusClass = 'status-warning';
                statusIcon = 'âš ï¸';
            }
            
            div.innerHTML = `
                <span class="${statusClass}">${statusIcon}</span>
                <span class="fingerprint-label">${label}:</span>
                <span class="fingerprint-value">${value}</span>
                ${expected ? `<br><small>æœŸæœ›å€¼: ${expected}</small>` : ''}
            `;
            return div;
        }

        // åŸºç¡€ç¯å¢ƒä¿¡æ¯æ”¶é›†
        function collectBasicInfo() {
            const container = document.getElementById('basic-info');
            
            const info = [
                ['User Agent', navigator.userAgent, 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'],
                ['å¹³å°', navigator.platform, 'Win32'],
                ['è¯­è¨€', navigator.language, 'zh-CN'],
                ['è¯­è¨€åˆ—è¡¨', navigator.languages.join(','), 'zh-CN,zh,en'],
                ['æ—¶åŒº', Intl.DateTimeFormat().resolvedOptions().timeZone, 'Asia/Shanghai'],
                ['Cookieå¯ç”¨', navigator.cookieEnabled.toString(), 'true'],
                ['åœ¨çº¿çŠ¶æ€', navigator.onLine.toString(), 'true']
            ];

            if (navigator.hardwareConcurrency) {
                info.push(['CPUæ ¸å¿ƒæ•°', navigator.hardwareConcurrency.toString(), '8']);
            }

            if (navigator.deviceMemory) {
                info.push(['è®¾å¤‡å†…å­˜', navigator.deviceMemory + 'GB', '8GB']);
            }

            info.forEach(([label, value, expected]) => {
                container.appendChild(createFingerprintItem(label, value, expected));
            });
        }

        // å±å¹•ä¿¡æ¯æ”¶é›†
        function collectScreenInfo() {
            const container = document.getElementById('screen-info');
            
            const info = [
                ['å±å¹•å®½åº¦', screen.width.toString(), '1920'],
                ['å±å¹•é«˜åº¦', screen.height.toString(), '1080'],
                ['å¯ç”¨å®½åº¦', screen.availWidth.toString(), '1920'],
                ['å¯ç”¨é«˜åº¦', screen.availHeight.toString(), '1040'],
                ['é¢œè‰²æ·±åº¦', screen.colorDepth.toString(), '24'],
                ['åƒç´ æ·±åº¦', screen.pixelDepth.toString(), '24'],
                ['è®¾å¤‡åƒç´ æ¯”', window.devicePixelRatio.toString(), '1']
            ];

            info.forEach(([label, value, expected]) => {
                container.appendChild(createFingerprintItem(label, value, expected));
            });
        }

        // Canvas æŒ‡çº¹æµ‹è¯•
        function testCanvasFingerprint() {
            const canvas = document.getElementById('canvas-test');
            const ctx = canvas.getContext('2d');
            
            // ç»˜åˆ¶æµ‹è¯•å›¾æ¡ˆ
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillStyle = '#f60';
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = '#069';
            ctx.fillText('ğŸ”CanvasæŒ‡çº¹æµ‹è¯•', 2, 15);
            ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
            ctx.fillText('ğŸ¨CanvasæŒ‡çº¹æµ‹è¯•', 4, 17);

            // è·å–Canvasæ•°æ®URL
            const dataURL = canvas.toDataURL();
            const hash = btoa(dataURL.slice(-50)); // ç®€å•å“ˆå¸Œ

            const container = document.getElementById('canvas-hash');
            container.appendChild(createFingerprintItem('Canvaså“ˆå¸Œ', hash.slice(0, 20) + '...'));
            container.appendChild(createFingerprintItem('Canvasé•¿åº¦', dataURL.length.toString()));
        }

        // WebGL æŒ‡çº¹æµ‹è¯•
        function testWebGLFingerprint() {
            const container = document.getElementById('webgl-info');
            
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                
                if (gl) {
                    const info = [
                        ['WebGLç‰ˆæœ¬', gl.getParameter(gl.VERSION), 'WebGL 1.0 (OpenGL ES 2.0 Chromium)'],
                        ['ä¾›åº”å•†', gl.getParameter(gl.VENDOR), 'Google Inc. (Intel)'],
                        ['æ¸²æŸ“å™¨', gl.getParameter(gl.RENDERER), 'ANGLE (Intel, Intel(R) UHD Graphics 630 Direct3D11 vs_5_0 ps_5_0, D3D11)'],
                        ['ç€è‰²å™¨ç‰ˆæœ¬', gl.getParameter(gl.SHADING_LANGUAGE_VERSION), 'WebGL GLSL ES 1.0 (OpenGL ES GLSL ES 1.0 Chromium)']
                    ];

                    // WebGLæ‰©å±•
                    const extensions = gl.getSupportedExtensions();
                    info.push(['æ”¯æŒçš„æ‰©å±•æ•°é‡', extensions.length.toString()]);

                    info.forEach(([label, value, expected]) => {
                        container.appendChild(createFingerprintItem(label, value, expected));
                    });
                } else {
                    container.appendChild(createFingerprintItem('WebGLçŠ¶æ€', 'ä¸æ”¯æŒ', null));
                }
            } catch (e) {
                container.appendChild(createFingerprintItem('WebGLé”™è¯¯', e.message, null));
            }
        }

        // éŸ³é¢‘æŒ‡çº¹æµ‹è¯•
        function testAudioFingerprint() {
            const container = document.getElementById('audio-info');
            
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const analyser = audioContext.createAnalyser();
                const gainNode = audioContext.createGain();
                
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(10000, audioContext.currentTime);
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                
                oscillator.connect(analyser);
                analyser.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start(0);
                oscillator.stop(audioContext.currentTime + 0.1);

                const info = [
                    ['éŸ³é¢‘ä¸Šä¸‹æ–‡çŠ¶æ€', audioContext.state],
                    ['é‡‡æ ·ç‡', audioContext.sampleRate.toString()],
                    ['å£°é“æ•°', audioContext.destination.channelCount.toString()]
                ];

                info.forEach(([label, value]) => {
                    container.appendChild(createFingerprintItem(label, value));
                });
            } catch (e) {
                container.appendChild(createFingerprintItem('éŸ³é¢‘æµ‹è¯•é”™è¯¯', e.message));
            }
        }

        // ç½‘ç»œä¿¡æ¯æµ‹è¯•
        function testNetworkInfo() {
            const container = document.getElementById('network-info');
            
            // æ£€æµ‹WebRTCæœ¬åœ°IPæ³„éœ²
            const rtcTest = () => {
                try {
                    const pc = new RTCPeerConnection({iceServers: []});
                    pc.createDataChannel('');
                    pc.createOffer().then(offer => pc.setLocalDescription(offer));
                    
                    let localIPs = [];
                    pc.onicecandidate = (event) => {
                        if (event.candidate) {
                            const candidate = event.candidate.candidate;
                            const ipMatch = candidate.match(/(\d+\.\d+\.\d+\.\d+)/);
                            if (ipMatch && !localIPs.includes(ipMatch[1])) {
                                localIPs.push(ipMatch[1]);
                                container.appendChild(createFingerprintItem('æ£€æµ‹åˆ°æœ¬åœ°IP', ipMatch[1]));
                            }
                        }
                    };

                    setTimeout(() => {
                        if (localIPs.length === 0) {
                            container.appendChild(createFingerprintItem('æœ¬åœ°IPæ³„éœ²', 'å·²é˜²æŠ¤ âœ…'));
                        }
                        pc.close();
                    }, 2000);
                } catch (e) {
                    container.appendChild(createFingerprintItem('WebRTCæµ‹è¯•', 'ä¸æ”¯æŒæˆ–å·²ç¦ç”¨ âœ…'));
                }
            };

            rtcTest();
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæ‰€æœ‰æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“‹ æµ‹è¯•é¡µé¢å¼€å§‹åˆå§‹åŒ–...');
            
            // ğŸš¨ å¤šé‡å»¶è¿Ÿæœºåˆ¶ï¼Œç¡®ä¿æŒ‡çº¹è„šæœ¬å®Œå…¨æ‰§è¡Œ
            
            // ç¬¬1æ¬¡æ£€æŸ¥ï¼ˆ500msï¼‰
            setTimeout(function() {
                console.log('ğŸ” === ç¬¬1æ¬¡æŒ‡çº¹æ£€æŸ¥ (500ms) ===');
                logCurrentFingerprint('Check1');
            }, 500);
            
            // ç¬¬2æ¬¡æ£€æŸ¥ï¼ˆ1000msï¼‰
            setTimeout(function() {
                console.log('ğŸ” === ç¬¬2æ¬¡æŒ‡çº¹æ£€æŸ¥ (1000ms) ===');
                logCurrentFingerprint('Check2');
            }, 1000);
            
            // ç¬¬3æ¬¡æ£€æŸ¥ï¼ˆ2000msï¼‰
            setTimeout(function() {
                console.log('ğŸ” === ç¬¬3æ¬¡æŒ‡çº¹æ£€æŸ¥ (2000ms) ===');
                logCurrentFingerprint('Check3');
                
                // å¼€å§‹æ‰§è¡Œæµ‹è¯•
                console.log('ğŸ å¼€å§‹æ‰§è¡Œæ‰€æœ‰æµ‹è¯•...');
                collectBasicInfo();
                collectScreenInfo();
                testCanvasFingerprint();
                testWebGLFingerprint();
                testAudioFingerprint();
                testNetworkInfo();
                
                // æœ€ç»ˆæŠ¥å‘Š
                setTimeout(function() {
                    generateFinalReport();
                }, 1000);
                
                console.log('ğŸ‰ æ‰€æœ‰æµ‹è¯•å®Œæˆï¼');
            }, 2000);
        });
        
        // è®°å½•å½“å‰æŒ‡çº¹æƒ…å†µ
        function logCurrentFingerprint(checkName) {
            console.log(`--- ${checkName} æŒ‡çº¹çŠ¶æ€ ---`);
            console.log('User-Agent:', navigator.userAgent);
            console.log('Platform:', navigator.platform);
            console.log('CPU Cores:', navigator.hardwareConcurrency);
            console.log('Language:', navigator.language);
            console.log('Languages:', navigator.languages);
            console.log('Screen:', screen.width + 'x' + screen.height);
            
            // æ£€æŸ¥æ˜¯å¦æœ‰æŒ‡çº¹è¦†ç›–æ ‡è®°
            if (window.fingerprintOverridden) {
                console.log('âœ… æŒ‡çº¹è¦†ç›–çŠ¶æ€: æˆåŠŸ');
                if (window.fingerprintSuccess) {
                    console.log('âœ… è¯¦ç»†æˆåŠŸçŠ¶æ€:', window.fingerprintSuccess);
                }
                if (window.fingerprintData) {
                    console.log('âœ… è¦†ç›–æ•°æ®:', window.fingerprintData);
                }
            } else {
                console.warn('âŒ æŒ‡çº¹è¦†ç›–çŠ¶æ€: å¤±è´¥æˆ–æœªæ‰§è¡Œ');
            }
        }
        
        // ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š
        function generateFinalReport() {
            console.log('ğŸ“‹ === æœ€ç»ˆæŒ‡çº¹ä¼ªè£…æŠ¥å‘Š ===');
            
            const expected = {
                userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
                platform: 'Win32',
                hardwareConcurrency: 8,
                language: 'zh-CN',
                languages: ['zh-CN', 'zh', 'en'],
                screenWidth: 1920,
                screenHeight: 1080,
                devicePixelRatio: 1.0
            };
            
            const actual = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                hardwareConcurrency: navigator.hardwareConcurrency,
                language: navigator.language,
                languages: navigator.languages,
                screenWidth: screen.width,
                screenHeight: screen.height,
                devicePixelRatio: window.devicePixelRatio
            };
            
            const results = {
                userAgent: actual.userAgent === expected.userAgent,
                platform: actual.platform === expected.platform,
                hardwareConcurrency: actual.hardwareConcurrency === expected.hardwareConcurrency,
                language: actual.language === expected.language,
                languages: JSON.stringify(actual.languages) === JSON.stringify(expected.languages),
                screenSize: actual.screenWidth === expected.screenWidth && actual.screenHeight === expected.screenHeight,
                devicePixelRatio: actual.devicePixelRatio === expected.devicePixelRatio
            };
            
            console.log('ğŸ¯ æœŸæœ›å€¼:', expected);
            console.log('ğŸ“‹ å®é™…å€¼:', actual);
            console.log('ğŸ† æµ‹è¯•ç»“æœ:', results);
            
            const successCount = Object.values(results).filter(Boolean).length;
            const totalCount = Object.keys(results).length;
            const successRate = ((successCount / totalCount) * 100).toFixed(1);
            
            console.log(`ğŸ“Š æˆåŠŸç‡: ${successCount}/${totalCount} (${successRate}%)`);
            
            if (successRate === '100.0') {
                console.log('ğŸ‰ æŒ‡çº¹ä¼ªè£…å®Œå…¨æˆåŠŸï¼');
            } else {
                console.warn(`âš ï¸ æŒ‡çº¹ä¼ªè£…éƒ¨åˆ†æˆåŠŸï¼ŒæˆåŠŸç‡: ${successRate}%`);
                
                // è¾“å‡ºå¤±è´¥çš„é¡¹ç›®
                Object.keys(results).forEach(key => {
                    if (!results[key]) {
                        console.error(`âŒ å¤±è´¥é¡¹ç›®: ${key}`);
                        console.error(`   æœŸæœ›: ${JSON.stringify(expected[key])}`);
                        console.error(`   å®é™…: ${JSON.stringify(actual[key])}`);
                    }
                });
            }
            
            // åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºç»“æœ
            displayFinalReport(results, successRate, actual, expected);
        }
        
        // åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºæœ€ç»ˆæŠ¥å‘Š
        function displayFinalReport(results, successRate, actual, expected) {
            const reportContainer = document.createElement('div');
            reportContainer.className = 'container section';
            reportContainer.innerHTML = `
                <h2>ğŸ“‹ æœ€ç»ˆæŒ‡çº¹ä¼ªè£…æŠ¥å‘Š</h2>
                <div class="fingerprint-item ${successRate === '100.0' ? 'status-ok' : 'status-warning'}">
                    <span class="fingerprint-label">æˆåŠŸç‡:</span>
                    <span class="fingerprint-value">${successRate}% (${Object.values(results).filter(Boolean).length}/${Object.keys(results).length})</span>
                </div>
                <div id="detailed-results"></div>
            `;
            
            const detailedResults = reportContainer.querySelector('#detailed-results');
            
            Object.keys(results).forEach(key => {
                const isSuccess = results[key];
                const item = document.createElement('div');
                item.className = `fingerprint-item ${isSuccess ? 'status-ok' : 'status-error'}`;
                item.innerHTML = `
                    <span class="${isSuccess ? 'status-ok' : 'status-error'}">${isSuccess ? 'âœ…' : 'âŒ'}</span>
                    <span class="fingerprint-label">${key}:</span>
                    <span class="fingerprint-value">${JSON.stringify(actual[key])}</span>
                    ${!isSuccess ? `<br><small style="color: #f44336;">æœŸæœ›: ${JSON.stringify(expected[key])}</small>` : ''}
                `;
                detailedResults.appendChild(item);
            });
            
            document.body.appendChild(reportContainer);
        }
    </script>
</body>
</html>